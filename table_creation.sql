CREATE TABLE tickers(
    permaticker NUMERIC PRIMARY KEY,
    ticker TEXT,
    name TEXT,
    exchange TEXT,
    isdelisted TEXT,
    category TEXT,
    cusips TEXT,
    siccode NUMERIC,
    sicsector TEXT,
    sicindustry TEXT,
    famasector TEXT,
    famaindustry TEXT,
    sector TEXT,
    industry TEXT,
    scalemarketcap TEXT,
    scalerevenue TEXT,
    relatedtickers TEXT,
    currency TEXT,
    location TEXT,
    lastupdated TEXT,
    firstadded TEXT,
    firstpricedate TEXT,
    lastpricedate TEXT,
    firstquarter TEXT,
    lastquarter TEXT,
    secfilings TEXT,
    companysite TEXT
);

CREATE TABLE prices(
    ticker REFERENCES tickers(ticker),
    date TEXT,
    open NUMERIC,
    high NUMERIC,
    low NUMERIC,
    close NUMERIC,
    volume NUMERIC,
    dividends NUMERIC,
    closeunadj NUMERIC,
    lastupdated NUMERIC,
    PRIMARY KEY (ticker, date)
);

CREATE TABLE fundamentals(
    ticker TEXT REFERENCES tickers(ticker),
    dimension TEXT,
    calendardate TEXT,
    datekey TEXT,
    reportperiod TEXT,
    lastupdated TEXT,
    accoci NUMERIC,
    assets NUMERIC,
    assetsavg NUMERIC,
    assetsc NUMERIC,
    assetsnc NUMERIC,
    assetturnover NUMERIC,
    bvps NUMERIC,
    capex NUMERIC,
    cashneq NUMERIC,
    cashnequsd NUMERIC,
    cor NUMERIC,
    consolinc NUMERIC,
    currentratio NUMERIC,
    de NUMERIC,
    debt NUMERIC,
    debtc NUMERIC,
    debtnc NUMERIC,
    debtusd NUMERIC,
    deferredrev NUMERIC,
    depamor NUMERIC,
    deposits NUMERIC,
    divyield NUMERIC,
    dps NUMERIC,
    ebit NUMERIC,
    ebitda NUMERIC,
    ebitdamargin NUMERIC,
    ebitdausd NUMERIC,
    ebitusd NUMERIC,
    ebt NUMERIC,
    eps NUMERIC,
    epsdil NUMERIC,
    epsusd NUMERIC,
    equity NUMERIC,
    equityavg NUMERIC,
    equityusd NUMERIC,
    ev NUMERIC,
    evebit NUMERIC,
    evebitda NUMERIC,
    fcf NUMERIC,
    fcfps NUMERIC,
    fxusd NUMERIC,
    gp NUMERIC,
    grossmargin NUMERIC,
    intangibles NUMERIC,
    intexp NUMERIC,
    invcap NUMERIC,
    invcapavg NUMERIC,
    inventory NUMERIC,
    investments NUMERIC,
    investmentsc NUMERIC,
    investmentsnc NUMERIC,
    liabilities NUMERIC,
    liabilitiesc NUMERIC,
    liabilitiesnc,
    marketcap NUMERIC,
    ncf NUMERIC,
    ncfbus NUMERIC,
    ncfcommon NUMERIC,
    ncfdebt NUMERIC,
    ncfdiv NUMERIC,
    ncff NUMERIC,
    ncfi NUMERIC,
    ncfinv NUMERIC,
    ncfo NUMERIC,
    ncfx NUMERIC,
    netinc NUMERIC,
    netinccmn NUMERIC,
    netinccmnusd NUMERIC,
    netincdis NUMERIC,
    netincnci NUMERIC,
    netmargin NUMERIC,
    opex NUMERIC,
    opinc NUMERIC,
    payables NUMERIC,
    payoutratio NUMERIC,
    pb NUMERIC,
    pe NUMERIC,
    pe1 NUMERIC,
    ppnenet NUMERIC,
    prefdivis NUMERIC,
    price NUMERIC,
    ps NUMERIC,
    ps1 NUMERIC,
    receivables NUMERIC,
    retearn NUMERIC,
    revenue NUMERIC,
    revenueusd NUMERIC,
    rnd NUMERIC,
    roa NUMERIC,
    roe NUMERIC,
    roic NUMERIC,
    ros NUMERIC,
    sbcomp NUMERIC,
    sgna NUMERIC,
    sharefactor NUMERIC,
    sharesbas NUMERIC,
    shareswa NUMERIC,
    shareswadil NUMERIC,
    sps NUMERIC,
    tangibles NUMERIC,
    taxassets NUMERIC,
    taxexp NUMERIC,
    taxliabilities NUMERIC,
    tbvps NUMERIC,
    workingcapital NUMERIC,
    PRIMARY KEY (ticker, dimension, datekey)
)